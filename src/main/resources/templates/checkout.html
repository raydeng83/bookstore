<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="common/header :: common-header"/>
<body>
<div th:replace="common/header :: navbar"/>
<div class="container">
    <div class="row" style="margin-bottom: -100px;">
        <div class="row">
            <div class="col-xs-8">
                <h2 class="section-headline"><span>CHECKOUT</span></h2>
            </div>
            <div class="col-xs-4">
                <img src="/image/logo.png" class="img-responsive"/>
            </div>
        </div>
        <hr style="position: absolute; width:100%; height:6px; background-color: #333; z-index: -1; margin-top: -80px;"/>
        <img class="img-responsive" src="/image/wood.png" style="margin-top: -75px;"/>
    </div>
    <div class="row" style="margin-top: 120px;">
        <div class="col-xs-9 col-xs-offset-3">
            <form th:action="@{/checkout}" method="post">
                <div class="panel-group" id="accordion">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion" href="#shippingInfo">
                                    1. Shipping Address</a>
                            </h4>
                        </div>
                        <div id="shippingInfo" class="panel-collapse collapse in">
                            <div class="panel-body">
                                <div class="form-group">
                                    <label for="shippingAddress">Street Address</label>
                                    <input type="text" class="form-control" id="shippingAddress"
                                           placeholder="Street Address 1" th:name="street1"
                                           th:value="${shippingAddress.street1}"/>
                                </div>
                                <div class="form-group">
                                    <input type="text" class="form-control" placeholder="Street Address 2"
                                           th:name="street2" th:value="${shippingAddress.street2}"/>
                                </div>
                                <div class="row">
                                    <div class="col-xs-4">
                                        <div class="form-group">
                                            <label for="shippingCity">City</label>
                                            <input type="text" class="form-control" id="shippingCity"
                                                   placeholder="Your Shipping city" th:name="city"
                                                   th:value="${shippingAddress.city}"/>
                                        </div>
                                    </div>
                                    <div class="col-xs-4">
                                        <div class="form-group">
                                            <label for="shippingState">State</label>
                                            <select id="shippingState" class="form-control">
                                                <option value="" selected="selected" disabled="disabled">Please select
                                                    an option...
                                                </option>
                                                <option th:each="state : ${stateList}"
                                                        th:text="${state}">...
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-xs-4">
                                        <div class="form-group">
                                            <label for="shippingZipcode">Zipcode</label>
                                            <input type="text" class="form-control" id="shippingZipcode"
                                                   placeholder="Zipcode" th:name="zipcode"
                                                   th:value="${shippingAddress.zipcode}"/>
                                        </div>
                                    </div>
                                </div>
                                <a data-toggle="collapse" data-parent="#accordion" class="btn btn-warning pull-right"
                                   href="#paymentInfo">Next</a>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion" href="#paymentInfo">
                                    2. Payment Information</a>
                            </h4>
                        </div>
                        <div id="paymentInfo" class="panel-collapse collapse">
                            <div class="panel-body">

                                <!-- CREDIT CARD FORM STARTS HERE -->
                                <div class="row">
                                    <div class="col-xs-12">
                                        <img src="/image/creditcard.png" class="img-responsive"/><br/>
                                        <div class="form-group">
                                            <label for="cardType">Select Card Type:</label>
                                            <select class="form-control" id="cardType" th:name="type"
                                                    th:value="${payment.type}">
                                                <option value="visa">Visa</option>
                                                <option value="mastercard">Mastercard</option>
                                                <option value="discover">Discover</option>
                                                <option value="amex">American Express</option>
                                            </select>
                                        </div>

                                        <div class="form-group">
                                            <label for="cardHolder">Card Holder</label>
                                            <input type="text" class="form-control" id="cardHolder"
                                                   placeholder="Card Holder Name" th:name="holderName"
                                                   th:value="${payment.holderName}"/>
                                        </div>

                                        <div class="form-group">
                                            <label for="cardNumber">Card Number</label>
                                            <div class="input-group">
                                                <input
                                                        id="cardNumber"
                                                        type="tel"
                                                        class="form-control"
                                                        name="cardNumber"
                                                        placeholder="Valid Card Number"
                                                        th:name="cardNumber" th:value="${payment.cardNumber}"
                                                />
                                                <span class="input-group-addon"><i class="fa fa-credit-card"
                                                                                   aria-hidden="true"></i></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-7 col-md-7">
                                        <div class="form-group">
                                            <label>Expiration Date</label>
                                            <div class="row">
                                                <div class="col-xs-6">
                                                    <select class="form-control" name="expiryMonth">
                                                        <option selected="selected" disabled="disabled">--Month--
                                                        </option>
                                                        <option value="01">Jan (01)</option>
                                                        <option value="02">Feb (02)</option>
                                                        <option value="03">Mar (03)</option>
                                                        <option value="04">Apr (04)</option>
                                                        <option value="05">May (05)</option>
                                                        <option value="06">June (06)</option>
                                                        <option value="07">July (07)</option>
                                                        <option value="08">Aug (08)</option>
                                                        <option value="09">Sep (09)</option>
                                                        <option value="10">Oct (10)</option>
                                                        <option value="11">Nov (11)</option>
                                                        <option value="12">Dec (12)</option>
                                                    </select>
                                                </div>
                                                <div class="col-xs-6">
                                                    <select class="form-control" name="expiryYear">
                                                        <option selected="selected" disabled="disabled">--Year--
                                                        </option>
                                                        <option value="17">2017</option>
                                                        <option value="18">2018</option>
                                                        <option value="19">2019</option>
                                                        <option value="20">2020</option>
                                                        <option value="21">2021</option>
                                                        <option value="22">2022</option>
                                                        <option value="23">2023</option>
                                                        <option value="23">2024</option>
                                                        <option value="23">2025</option>
                                                        <option value="23">2026</option>
                                                        <option value="23">2027</option>
                                                        <option value="23">2028</option>
                                                        <option value="23">2029</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-5 col-md-5 pull-right">
                                        <div class="form-group">
                                            <label for="cardCVC">CV Code</label>
                                            <input
                                                    id="cardCVC"
                                                    type="tel"
                                                    class="form-control"
                                                    name="cardCVC"
                                                    placeholder="CVC"
                                                    th:name="cvc" th:value="${payment.cvc}"
                                            />
                                        </div>
                                    </div>
                                </div>
                                <div class="row" style="display:none;">
                                    <div class="col-xs-12">
                                        <p class="payment-errors"></p>
                                    </div>
                                </div>
                                <!-- CREDIT CARD FORM ENDS HERE -->


                                <a data-toggle="collapse" data-parent="#accordion"
                                   class="btn btn-warning pull-right"
                                   href="#billingInfo">Next</a>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion" href="#billingInfo">
                                    3. Billing Address</a>
                            </h4>
                        </div>
                        <div id="billingInfo" class="panel-collapse collapse">
                            <div class="panel-body">
                                <div class="checkbox">
                                    <label>
                                        <input id="theSameAsShippingAddress" type="checkbox"
                                               name="billingSameAsShipping" value="true"/> The same as shipping
                                        address
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label for="billingAddress">Street Address</label>
                                    <input type="text" id="billingAddress" class="form-control billingAddress"
                                           placeholder="Street Address 1" th:name="street1"
                                           th:value="${billingAddress.street1}"/>
                                </div>
                                <div class="form-group">
                                    <input type="text" class="form-control billingAddress"
                                           placeholder="Street Address 2" th:name="street2"
                                           th:value="${billingAddress.street2}"/>
                                </div>
                                <div class="row">
                                    <div class="col-xs-4">
                                        <div class="form-group">
                                            <label for="billingCity">City</label>
                                            <input type="text" class="form-control billingAddress" id="billingCity"
                                                   placeholder="Your city" th:name="city"
                                                   th:value="${billingAddress.city}"/>
                                        </div>
                                    </div>
                                    <div class="col-xs-4">
                                        <div class="form-group">
                                            <label for="billingState">State</label>
                                            <select id="billingState" class="form-control billingAddress"
                                                    name="state" th:value="${billingAddress.state}">
                                                <option value="" selected="selected" disabled="disabled">Please
                                                    select an option...
                                                </option>
                                                <option th:each="state : ${stateList}"
                                                        th:text="${state}">...
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-xs-4">
                                        <div class="form-group">
                                            <label for="billingZipcode">Zipcode</label>
                                            <input type="text" class="form-control billingAddress"
                                                   id="billingZipcode"
                                                   placeholder="Zipcode" th:name="zipcode"
                                                   th:value="${billingAddress.zipcode}"/>
                                        </div>
                                    </div>
                                    <a data-toggle="collapse" data-parent="#accordion"
                                       class="btn btn-warning pull-right" href="#reviewItems">Next</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion" href="#reviewItems">
                                    4. Review Items and Shipping</a>
                            </h4>
                        </div>
                        <div id="reviewItems" class="panel-collapse collapse">
                            <div class="panel-body">
                                <h4>Choose your shipping method:</h4>
                                <div class="radio">
                                    <label>
                                        <input type="radio" name="shippingMethod" value="groundShipping"
                                               checked="checked"/>
                                        Ground Shipping
                                    </label>
                                </div>
                                <div class="radio">
                                    <label>
                                        <input type="radio" name="shippingMethod" value="premiumShipping"/>
                                        Premium Shipping
                                    </label>
                                </div>

                                <div class="row">
                                    <div class="col-xs-8"><h4>Products</h4></div>
                                    <div class="col-xs-2"><h4>Price</h4></div>
                                    <div class="col-xs-2"><h4>Qty</h4></div>
                                </div>

                                <!--*******  display products in cart  ********-->
                                <div class="row" th:each="cartItem : ${cartItemList}">
                                    <form th:action="@{/shoppingCart/updateCartItem}" method="post">

                                        <hr/>
                                        <div class="col-xs-2"><img class="img-responsive shelf-book"
                                                                   th:src="#{adminPath}+@{/image/book/}+${cartItem.book.id}+'.png'"
                                                                   style="width:70px;"/></div>
                                        <div class="col-xs-6">
                                            <h4 th:text="${cartItem.book.title}">...</h4>
                                            <p th:if="${cartItem.book.inStockNumber&gt;10}" style="color: green;">In
                                                Stock</p>
                                            <p th:if="${cartItem.book.inStockNumber&lt;10 and cartItem.book.inStockNumber&gt;0}"
                                               style="color: green;"> Only <span
                                                    th:text="${cartItem.book.inStockNumber}"></span> In
                                                Stock</p>
                                            <p style="color: darkred;" th:if="${cartItem.book.inStockNumber}==0">Product
                                                Unavailable</p>

                                            <a th:href="@{/shoppingCart/removeItem?id=}+${cartItem.id}">delete</a>
                                        </div>
                                        <div class="col-xs-2">
                                            <h5 style="color: #db3208; font-size: large;">$<span
                                                    th:text="${cartItem.book.ourPrice}"
                                                    th:style="${cartItem.book.inStockNumber}==0 ? 'text-decoration: line-through;' : ''"></span>
                                            </h5>
                                        </div>

                                        <div class="col-xs-2">
                                            <p class="form-control" th:text="${cartItem.qty}"></p>
                                        </div>
                                    </form>
                                </div>

                                <hr/>
                                <h4 class="col-xs-12 text-right"><Strong style="font-size: large">Order Total (<span
                                        th:text="${#lists.size(cartItemList)}"></span> items): </Strong><span
                                        style="color: #db3208; font-size: large;">$<span
                                        th:text="${shoppingCart.grandTotal}"></span></span></h4>
                                <br/>
                                <button type="submit" class="btn btn-warning btn-block">Place your order
                                </button>
                                <p>By placing your order, you agree to Le's Bookstore <a
                                        href="#">privacy</a> notice and
                                    <a href="#">conditions</a> of use.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div th:replace="common/header :: body-bottom-scripts"/>

</body>
</html>